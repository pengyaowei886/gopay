<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>客户端1</title>
</head>
<body>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/socket.io/2.1.1/socket.io.js"></script>
    <script type="text/javascript">
        $(function () {
            var data = {
                roomid: "285074",
                userid: 37
            }
            var socket = io("ws://127.0.0.1:7001/sss");  
            if (socket.disconnected) { //最大bug 断开既连接，连接既断开
                socket.emit("login", data);
                socket.on("login_result", function (res) {
                    console.log(res);
                    socket.emit("ready");
                });
                socket.on("game_can_run", function (res) {
                    console.log("game can  run....")
                    socket.emit("start");
                    console.log(res);
                });
                socket.on("new_user_comes_push", function (res) {
                    console.log("new user comming....")
                    console.log(res);
                });
                socket.on("user_ready_push", function (res) {
                    console.log("user_ready_push....")
                    console.log(res);
                });
            } else {
                 //虚假的连接，其实是断开
                console.log("wocao......") 
            }
        })
    </script>
</body>
</html